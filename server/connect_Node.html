<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../css/server/style.css" />
    <title>Connect Node with Mongo Server</title>
  </head>
  <body>
    <header>
        <h2>Connect Node with Mongo Server</h2>
    </header>
    <main>
      <div class="button-container">
        <!-- Buttons used to open and close the dropdown content -->
        <button id="toggle-btn-node" class="dropdown-button">Don't have Node JS installed? &#9660</button>
      </div>
        <div id="dropdown-content-container"></div>
        

        <p>Introduction:</p>
<p>Node.js is a popular JavaScript runtime environment that allows developers to build scalable and efficient server-side applications. When it comes to persisting data in Node.js, MongoDB is a popular choice among developers because of its flexibility and scalability.</p>
<p>In this blog post, we&apos;ll discuss how to connect Node.js with a personal MongoDB server for performing CRUD (Create, Read, Update, and Delete) operations.</p>
<p>Prerequisites:</p>
<p>Before we begin, you should have the following installed on your system:</p>
<ul>
    <li>Node.js</li>
    <li>NPM (Node Package Manager)</li>
    <li>MongoDB</li>
</ul>
<p>Setting up a MongoDB Server:</p>
<p>To set up a MongoDB server, you can follow these steps:</p>
<ol>
    <li>Download and install MongoDB from the official website.</li>
    <li>Create a directory where you want to store your data.</li>
    <li>Open a terminal window and navigate to the MongoDB installation directory.</li>
    <li>Start the MongoDB server by running the command <code>mongod --dbpath=/path/to/data/directory</code>.</li>
</ol>
<p>Connecting to MongoDB using Node.js:</p>
<p>Now that we have a running MongoDB server, we can connect to it using Node.js. To do this, we need to install the <code>mongodb</code> npm package. Open a terminal window and run the following command:</p>
<pre><div><div><button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>npm install mongodb
</code></div></div></pre>
<p>Once the package is installed, we can create a new Node.js project and create a new file <code>index.js</code> with the following code:</p>
<pre><div><div>javascript<button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>const MongoClient = require(&apos;mongodb&apos;).MongoClient;

const url = &apos;mongodb://localhost:27017/mydb&apos;;

MongoClient.connect(url, (err, client) =&gt; {
  if (err) throw err;

  const db = client.db(&apos;mydb&apos;);

  // perform CRUD operations here

  client.close();
});
</code></div></div></pre>
<p>Let&apos;s break down the above code:</p>
<ul>
    <li>We first import the <code>MongoClient</code> from the <code>mongodb</code> package.</li>
    <li>We then define the URL to our MongoDB server. In this case, we&apos;re connecting to a server running on <code>localhost</code> and the default port <code>27017</code>.</li>
    <li>We use the <code>MongoClient.connect()</code> method to connect to the MongoDB server. This method takes two arguments - the URL to the server and a callback function that gets executed when the connection is established.</li>
    <li>In the callback function, we get a reference to the database using the <code>client.db()</code> method.</li>
    <li>We can now perform CRUD operations on the database.</li>
    <li>Finally, we close the connection using the <code>client.close()</code> method.</li>
</ul>
<p>Performing CRUD Operations:</p>
<p>Now that we have connected to the MongoDB server, we can perform CRUD operations using the <code>db</code> object.</p>
<p>Here are some examples:</p>
<ol>
    <li>Inserting a document:</li>
</ol>
<pre><div><div>javascript<button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>const collection = db.collection(&apos;users&apos;);

const user = { name: &apos;John&apos;, age: 30 };

collection.insertOne(user, (err, result) =&gt; {
  if (err) throw err;

  console.log(`Inserted ${result.insertedCount} document.`);
});
</code></div></div></pre>
<ol start="2">
    <li>Retrieving documents:</li>
</ol>
<pre><div><div>javascript<button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>const collection = db.collection(&apos;users&apos;);

collection.find({}).toArray((err, docs) =&gt; {
  if (err) throw err;

  console.log(docs);
});
</code></div></div></pre>
<ol start="3">
    <li>Updating a document:</li>
</ol>
<pre><div><div>javascript<button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>const collection = db.collection(&apos;users&apos;);

collection.updateOne({ name: &apos;John&apos; }, { $set: { age: 40 } }, (err, result) =&gt; {
  if (err) throw err;

  console.log(`Updated ${result.modifiedCount} document.`);
});
</code></div></div></pre>
<ol start="4">
    <li>Deleting a document:</li>
</ol>
<pre><div><div>javascript<button><svg fill="none" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>Copy code</button></div><div><code>const collection = db.collection(&apos;users&apos;);

collection.deleteOne({ name: &apos;John&apos; }, (err, result) =&gt; {
  if (err) throw err;

  console.log(`Deleted ${result.deletedCount} document.`);
});
</code></div></div></pre>
<h3>Conclusion:</h3>
<p>In conclusion, connecting Node.js with MongoDB personal server is an essential step for any Node.js developer. By following the steps mentioned in this article, you can easily establish a connection between your Node.js application and your personal MongoDB server.</p>
<p>Once the connection is established, you can perform various CRUD operations on your MongoDB database through your Node.js application. This will help you to build powerful and dynamic web applications that can store and retrieve data in real-time.</p>
<p>Furthermore, with the flexibility and scalability of MongoDB, you can easily manage large amounts of data and scale your application as your needs grow. So, take the time to set up your Node.js application with your MongoDB personal server and unleash the full potential of your web development skills.</p>
    </main>    
    <script src="../download/dropdown.js"></script>
  </body>
</html>
